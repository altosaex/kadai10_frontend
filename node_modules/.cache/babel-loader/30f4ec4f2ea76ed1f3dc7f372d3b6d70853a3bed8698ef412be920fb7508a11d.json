{"ast":null,"code":"import React,{useEffect,useState}from'react';import\"./TimeLine.css\";import Share from'../share/Share';import Post from'../post/Post';// import {Posts} from \"../../dummyDate\";\nimport axios from\"axios\";import{useContext}from'react';import{AuthContext}from'../../state/AuthContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function TimeLine(_ref){let{username}=_ref;const[posts,setPosts]=useState([]);const{user}=useContext(AuthContext);useEffect(()=>{const fetchPosts=async()=>{const response=username?await axios.get(\"/posts/profile/\".concat(username))//プロフィールの場合\n:await axios.get(\"/posts/timeline/\".concat(user._id));//ホームの場合\n// console.log(response);\nsetPosts(response.data.sort((post1,post2)=>{return new Date(post2.createdAt)-new Date(post1.createdAt);}));};fetchPosts();},[username,user._id]);return/*#__PURE__*/_jsx(\"div\",{className:\"timeline\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"timelineWrapper\",children:[/*#__PURE__*/_jsx(Share,{}),posts.map(post=>/*#__PURE__*/_jsx(Post,{post:post},post._id))]})});}","map":{"version":3,"names":["React","useEffect","useState","Share","Post","axios","useContext","AuthContext","jsx","_jsx","jsxs","_jsxs","TimeLine","_ref","username","posts","setPosts","user","fetchPosts","response","get","concat","_id","data","sort","post1","post2","Date","createdAt","className","children","map","post"],"sources":["/Users/altosaex/Desktop/sns_susumidasu/frontend/src/components/timeline/TimeLine.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport \"./TimeLine.css\";\nimport Share from '../share/Share';\nimport Post from '../post/Post';\n// import {Posts} from \"../../dummyDate\";\nimport axios from \"axios\";\nimport { useContext } from 'react';\nimport { AuthContext } from '../../state/AuthContext';\n\nexport default function TimeLine({ username }) {\n\tconst [posts, setPosts] = useState([]);\n\n\tconst {user} = useContext(AuthContext);\n\n\tuseEffect(() => {\n\t\tconst fetchPosts = async () => {\n\t\t\tconst response = username \n\t\t\t? await axios.get(`/posts/profile/${username}`) //プロフィールの場合\n\t\t\t: await axios.get(`/posts/timeline/${user._id}`); //ホームの場合\n\t\t\t// console.log(response);\n\t\t\tsetPosts(\n\t\t\t\tresponse.data.sort((post1, post2) => {\n\t\t\t\treturn new Date(post2.createdAt) - new Date(post1.createdAt);\n\t\t\t})\n\t\t);\n\t};\n\t\tfetchPosts();\n\t}, [username, user._id]);\n\n\treturn (\n\t<div className='timeline'>\n\t\t<div className=\"timelineWrapper\">\n\t\t\t<Share />\n\t\t\t{posts.map((post) => (\n\t\t\t\t<Post post={post} key={post._id} />\n\t\t\t))}\n\t\t</div>\n\t</div>\n\t);\n}\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,gBAAgB,CACvB,MAAO,CAAAC,KAAK,KAAM,gBAAgB,CAClC,MAAO,CAAAC,IAAI,KAAM,cAAc,CAC/B;AACA,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,UAAU,KAAQ,OAAO,CAClC,OAASC,WAAW,KAAQ,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEtD,cAAe,SAAS,CAAAC,QAAQA,CAAAC,IAAA,CAAe,IAAd,CAAEC,QAAS,CAAC,CAAAD,IAAA,CAC5C,KAAM,CAACE,KAAK,CAAEC,QAAQ,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAEtC,KAAM,CAACe,IAAI,CAAC,CAAGX,UAAU,CAACC,WAAW,CAAC,CAEtCN,SAAS,CAAC,IAAM,CACf,KAAM,CAAAiB,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC9B,KAAM,CAAAC,QAAQ,CAAGL,QAAQ,CACvB,KAAM,CAAAT,KAAK,CAACe,GAAG,mBAAAC,MAAA,CAAmBP,QAAQ,CAAE,CAAE;AAAA,CAC9C,KAAM,CAAAT,KAAK,CAACe,GAAG,oBAAAC,MAAA,CAAoBJ,IAAI,CAACK,GAAG,CAAE,CAAC,CAAE;AAClD;AACAN,QAAQ,CACPG,QAAQ,CAACI,IAAI,CAACC,IAAI,CAAC,CAACC,KAAK,CAAEC,KAAK,GAAK,CACrC,MAAO,IAAI,CAAAC,IAAI,CAACD,KAAK,CAACE,SAAS,CAAC,CAAG,GAAI,CAAAD,IAAI,CAACF,KAAK,CAACG,SAAS,CAAC,CAC7D,CAAC,CACF,CAAC,CACF,CAAC,CACAV,UAAU,CAAC,CAAC,CACb,CAAC,CAAE,CAACJ,QAAQ,CAAEG,IAAI,CAACK,GAAG,CAAC,CAAC,CAExB,mBACAb,IAAA,QAAKoB,SAAS,CAAC,UAAU,CAAAC,QAAA,cACxBnB,KAAA,QAAKkB,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC/BrB,IAAA,CAACN,KAAK,GAAE,CAAC,CACRY,KAAK,CAACgB,GAAG,CAAEC,IAAI,eACfvB,IAAA,CAACL,IAAI,EAAC4B,IAAI,CAAEA,IAAK,EAAMA,IAAI,CAACV,GAAM,CAClC,CAAC,EACE,CAAC,CACF,CAAC,CAEP"},"metadata":{},"sourceType":"module","externalDependencies":[]}